fs.file-max = 81920
kernel.msgmni = 1024
kernel.sem = 1000 32000 32 512
kernel.shmmax = 2147483648

net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
# Estas otimizacoes gastam pouca memoria e melhoram bastante o desempenho
# de servidores de alto numero de conexoes em rajadas.  Em alguns casos,
# talvez seja bom usar um valor ainda maior.  Verificar o healthcheck.
# Exemplo: Ocorrencia 1482723
# Obs: Memoria usada: ~64bytes/backlog, slab nao pre-reservado
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_max_syn_backlog = 8192

# As linhas abaixo sao imprescindiveis para servidores balanceados por
# DSR e, muito provavelmente, inocuas em todos os outros casos.
net.ipv4.conf.all.arp_ignore   = 2
net.ipv4.conf.all.arp_announce = 2

# Recomendacoes da SUP-SEG
# Disable ICMP redirect support
net.ipv4.conf.all.accept_redirects=0
net.ipv4.conf.default.accept_redirects=0
net.ipv4.conf.all.secure_redirects=0
net.ipv4.conf.default.secure_redirects=0
#Google reccomendations on https://cloud.google.com/solutions/best-practices-for-using-mpi-on-compute-engine#increase_tcp_mem_settings
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 16384 16777216
net.core.busy_poll = 50
net.core.busy_read = 50

# Tuning K6
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_timestamps = 1
net.ipv4.ip_local_port_range = 1024 65535